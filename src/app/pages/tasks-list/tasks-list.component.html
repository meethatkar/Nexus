<!-- *************member************* -->
@if(userDetailsObj.role=='member'){
    <div class="container">
      <!-- Task List -->
      @if(!isViewClicked){
        <h2 class="title">Task List</h2>
        <div class="task-card" *ngFor="let task of taskObj.taskName; let i=index">
          <div class="task-info">
            <p><strong>Task Name:</strong> {{ taskObj.taskName[i] }}</p>
            <p><strong>Project:</strong> {{ taskObj.tprojectName[i] }}</p>
            <p><strong>Due Date:</strong> {{ taskObj.endDate[i] }}</p>
            <p><strong>Status:</strong> <span class="status" [ngClass]="taskObj.taskStatus[i]">{{ taskObj.taskStatus[i] }}</span></p>
          </div>
          <button class="view-btn" (click)="viewDetails(i,true)">View Details</button>
        </div>  
    }
      <!-- Task Details -->
       @if(isViewClicked){
      <div class="task-details">
        <h2 class="title">Task Details</h2>
        <table class="mb-5">
          <tr><th>Task Name:</th><td>{{ taskObj.taskName[selectedTask] }}</td></tr>
          <tr><th>Description:</th><td>{{ taskObj.taskDescription[selectedTask] }}</td></tr>
          <tr><th>Start Date:</th><td>{{ taskObj.startDate[selectedTask] }}</td></tr>
          <tr><th>End Date:</th><td>{{ taskObj.endDate[selectedTask] }}</td></tr>
          <tr><th>Assigned By:</th><td>{{ taskObj.tManagerName[selectedTask] }}</td></tr>
          <tr><th>Priority:</th><td><span class="priority" [ngClass]="taskObj.taskPriority[selectedTask].toLocaleLowerCase()">{{ taskObj.taskPriority[selectedTask] }}</span></td></tr>
        </table>
        <button  id="back-btn-mem" (click)="backToList()">Back to Task List</button>
        <!--  class="back-btn"  -->
      </div>
    }
    </div>
  }
  
  <!-- ***************manager************ -->
  @else if(userDetailsObj.role){
    <div class="container">
      <h2 class="title">Member List</h2>
      
      <table class="member-table">
        <thead>
          <tr>
            <th>Member ID</th>
            <th>Name</th>
            <th>Status</th>
          </tr>
        </thead>
        <!-- <tbody *ngFor="let member of"> -->
          @for(member of memberList.members; track member.id){
          <tr (click)="viewDetailTaskManager(true,member.id)">
            <td>{{ member.id }}</td>
            <td>{{ member.memberName }}</td>
            <td>
              <span class="status" [ngClass]="member.status.toLowerCase()">
                {{ member.status }}
              </span>
            </td>
          </tr>
        }
        </tbody>
      </table>
    </div>
    }
    @else if(isViewClicked){
      <div class="container">
        <h2 class="title">Task Assignment List</h2>
        
        <table class="task-table">
          <thead>
            <tr>
              <th>Member Name</th>
              <th>Task Name</th>
              <th>Project Name</th>
              <th>Type</th>
              <th>Priority</th>
              <th>Start Date</th>
              <th>End Date</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            @for(task of taskList.tasks; track task;let i=$index){
            <tr>
              <td>{{ task.memberName }}</td>
              <td>{{ task.name }}</td>
              <td>{{ task.projectName }}</td>
              <td>{{ task.type }}</td>
              <td>
                <span class="priority" [ngClass]="task.priority.toLowerCase()">
                  {{ task.priority }}
                </span>
              </td>
              <td>{{ task.startDate }}</td>
              <td>{{ task.dueDate }}</td>
              <td>
                <span class="status" [ngClass]="task.status.toLowerCase().replace(' ', '-')">
                  {{ task.status }}
                </span>
              </td>
            </tr>
          }
          </tbody>
        </table>
        <button id="back-btn-man" (click)="backToList()">Back to Task List</button>
        <!--  class="back-btn" -->
      </div>
    }
    
  }